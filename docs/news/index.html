<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • wham</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wham</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.9.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book fa-lg"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/index.html">Overview</a>
    </li>
    <li>
      <a href="../articles/ex01_basics.html">Ex 1: The basics</a>
    </li>
    <li>
      <a href="../articles/ex02_CPI_recruitment.html">Ex 2: Recruitment linked to an environmental covariate (Cold Pool Index)</a>
    </li>
    <li>
      <a href="../articles/ex03_projections.html">Ex 3: Projecting / forecasting random effects</a>
    </li>
    <li>
      <a href="../articles/ex4_selectivity.html">Ex 4: Selectivity with time- and age-varying random effects</a>
    </li>
    <li>
      <a href="../articles/ex05_GSI_M.html">Ex 5: Time-varying natural mortality linked to the Gulf Stream Index</a>
    </li>
    <li>
      <a href="../articles/ex06_NAA.html">Ex 6: Numbers-at-age / survival deviations as random effects</a>
    </li>
    <li>
      <a href="../articles/ex07_debug.html">Ex 7: Debugging WHAM models</a>
    </li>
    <li>
      <a href="../articles/ex08_compare.html">Ex 8: Compare ASAP and WHAM model results</a>
    </li>
    <li>
      <a href="../articles/ex09_retro_pred.html">Ex 9: Retrospective predictions</a>
    </li>
    <li>
      <a href="../articles/ex10_simulation.html">Ex 10: Simulations</a>
    </li>
    <li>
      <a href="../articles/ex11_catchability.html">Ex 11: Catchability configurations</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">
    <span class="far fa-file-code fa-lg"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="https://github.com/timjmiller/wham/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
    Source code
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-bullhorn fa-lg"></span>
     
    News
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/timjmiller/wham/issues/" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>
     
    Issues
  </a>
</li>
<li>
  <a href="https://www.fisheries.noaa.gov/contact/timothy-miller-phd" class="external-link">
    <span class="fas fa-paper-plane fa-lg"></span>
     
    Contact
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/timjmiller/wham/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.9.9000" id="wham-1099000">wham 1.0.9.9000<a class="anchor" aria-label="anchor" href="#wham-1099000"></a></h2>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.9" id="wham-109-2024-06-13">wham 1.0.9 (2024-06-13)<a class="anchor" aria-label="anchor" href="#wham-109-2024-06-13"></a></h2>
<div class="section level4">
<h4 id="important-1-0-9">IMPORTANT<a class="anchor" aria-label="anchor" href="#important-1-0-9"></a></h4>
<ul><li><strong>This will be the last release for models allowing only 1 stock and 1 region.</strong></li>
<li>The single-stock version will live on as the <strong>single_wham</strong> branch of the WHAM repository, but no further development will occur. Only bug fixes will be addressed.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-9">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-9"></a></h4>
<ul><li>Fix bug in reporting of NAA autocorrelation parameters in parameter table. <a href="https://github.com/timjmiller/wham/commit/ddad93c968c5986ebb2cd7aea089fbc4864fc7b8" class="external-link">ddad93c</a>
</li>
<li>Fix bug in projections for models with q random effets. <a href="https://github.com/timjmiller/wham/commit/503fefc86d2cb7f50ede53ce89e43c6d02c6b23a" class="external-link">503fefc</a>
</li>
<li>Fix recruitment decoupling configuration bug. <a href="https://github.com/timjmiller/wham/commit/18063fad1fdd0d8787970cde9af303e0e24b9b95" class="external-link">18063fa</a>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.8" id="wham-108-2024-04-24">wham 1.0.8 (2024-04-24)<a class="anchor" aria-label="anchor" href="#wham-108-2024-04-24"></a></h2>
<div class="section level4">
<h4 id="minor-improvements-1-0-8">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-8"></a></h4>
<ul><li>Added option to bias-correct SSB/R and Y/R calculations for BRPs. Long-term projections can then be consistent with static BRPs. <a href="https://github.com/timjmiller/wham/commit/4dade43485ad35055c7bfc4ee982cf73dadac700" class="external-link">4dade43</a>
</li>
<li>Added option to make recruitment in projection years consistent with that used for prevailing SPR-based BRPs <a href="https://github.com/timjmiller/wham/commit/4edf29a97964b7cbacf830c25effd9100697f4ad" class="external-link">4edf29a</a>
</li>
<li>Added option to specify WAA and maturity in projection years. <a href="https://github.com/timjmiller/wham/commit/d6f82f12c525a06ef5f319c477e78a4cfed10dfb" class="external-link">d6f82f1</a>
</li>
<li>Added option to decouple recruitment random effects from those for older ages when NAA_re$sigma = “rec+1”. <a href="https://github.com/timjmiller/wham/commit/a7880bf56dc89dd5c60c7f4832027d508d194f6c" class="external-link">a7880bf</a>
</li>
<li>Linear parameterization of Dirichlet-multinomial dispersion parameter option for age composition likelihood added <a href="https://doi.org/10.1016/j.fishres.2016.06.005" class="external-link">Thorson et al. 2017</a> <a href="https://github.com/timjmiller/wham/commit/e3ab77b8e42c0e68e364f58a0a7855e04a262604" class="external-link">e3ab77b</a>. Effective sample size is reported for both Dirichlet-multinomial likelihood options.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-8">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-8"></a></h4>
<ul><li>Fixed bug in make_osa_residuals when checking for a data frame. <a href="https://github.com/timjmiller/wham/commit/9f65ad62b366fc08e35df48178e87cd39d330cd3" class="external-link">9f65ad6</a>
</li>
<li>Fix bug in NAA reporting simulated models with projection years when holding process errors constant in data years. <a href="https://github.com/timjmiller/wham/commit/22633cd126a4d55e34f9d3cc39e3a4ed8229ea17" class="external-link">22633c</a>
</li>
<li>Fixed bug in fit_peel function when modeling random effects on catchability. <a href="https://github.com/timjmiller/wham/commit/a7880bf56dc89dd5c60c7f4832027d508d194f6c" class="external-link">a7880bf</a>
</li>
<li>Fixed issue in multinomial, D-M, MVTweedie likelihoods when selectivity = 0 for some ages with age-specific selectivity configuration <a href="https://github.com/timjmiller/wham/issues/80" class="external-link">issue 80</a> <a href="https://github.com/timjmiller/wham/commit/ad22b8a2dec86d22525f58f5f7db9bc6e3d18fc6" class="external-link">ad22b8a</a>
</li>
<li>Fixed NaN issue in multinomial for extremely small (e.g. 1e-17) predicted proportions <a href="https://github.com/timjmiller/wham/issues/76" class="external-link">issue 76</a> <a href="https://github.com/timjmiller/wham/commit/99ec44f7f3c4647d1e882d3102d3da5d31afbb8b" class="external-link">99ec44f</a>
</li>
<li>Fix incorrect flag for simulating catch age composition data and incorrect indexing for years to average over for SPR inputs <a href="https://github.com/timjmiller/wham/commit/4f06dc7baff3b6bef3e7c8eb262dcdedefbb33dc" class="external-link">4f06dc7</a>
</li>
<li>Fixed bug in reporting correlation parameter estimates in pdf/html tables <a href="https://github.com/timjmiller/wham/commit/31ea94b611844a557947b11ac758531abb83005b" class="external-link">31ea94b</a>
</li>
<li>Fixed bug in setting up catch age comp observations when ages are omitted due to selectivity=0 <a href="https://github.com/timjmiller/wham/commit/6667efac36df17215b5733e13866a3a78ed4f3b8" class="external-link">6667efa</a>
</li>
<li>Fixed reference point estimation and use in projections when there are multiple fleets <a href="https://github.com/timjmiller/wham/commit/65c0130f56e9346a98c1a1a957efe6dd1441c4c1" class="external-link">65c0130</a> <a href="https://github.com/timjmiller/wham/commit/b4c1ca379476042ef3ae376179df369c13e1fc0e" class="external-link">b4c1ca3</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.7" id="wham-107-2022-11-3">wham 1.0.7 (2022-11-3)<a class="anchor" aria-label="anchor" href="#wham-107-2022-11-3"></a></h2>
<div class="section level4">
<h4 id="major-improvements-1-0-7">Major improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-7"></a></h4>
<ul><li>Improved stability and reliability of one-step-ahead residuals for age compositon observations for most log-likelihoods <a href="https://github.com/timjmiller/wham/commit/037b7145927824359cdba00ecdffc1e4fbaceee6" class="external-link">037b714</a>.</li>
<li>Multivariate Tweedie age composition likelihood option added (Thorson et al. in press) <a href="https://github.com/timjmiller/wham/commit/6f77c164289b029725ecc0882ec50865832b696f" class="external-link">6f77c16</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-1-0-7">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-7"></a></h4>
<ul><li>Added exported make_osa_residuals function that can make OSA residuals from an object returned by fit_wham where it is also used internally with do.osa=TRUE <a href="https://github.com/timjmiller/wham/commit/1616aded076a63c5ac375abf706ea710de6e9d0e" class="external-link">1616ade</a>.</li>
<li>Added ability to specify different F options for each year of projections to project_wham and prepare_projection <a href="https://github.com/timjmiller/wham/commit/f763059a61fde0814f2de83ef2d08045a3ed59e0" class="external-link">f763059</a>
</li>
<li>Revised vignette on simulation studies <a href="https://github.com/timjmiller/wham/commit/f763059a61fde0814f2de83ef2d08045a3ed59e0" class="external-link">f763059</a>
</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-7">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-7"></a></h4>
<ul><li>Fix some plotting errors when there are multiple fleets and when there is no age comp for some fleets or indices <a href="https://github.com/timjmiller/wham/commit/83f23ff2c2c676577be709135505cb5348a1c632" class="external-link">83f23ff</a>
</li>
<li>Fix age comp observations when selectivity is assumed 0 for one or more age classes (needed for osa obs) <a href="https://github.com/timjmiller/wham/commit/7bba974c4d9ea8d772902be4d62512f20274a3ad" class="external-link">7bba974</a>
</li>
<li>Fix bug in simulation of selectivity random effects with “ar1_y” or “ar1” option <a href="https://github.com/timjmiller/wham/commit/190000ccfa3ed2fb7ba30ee8d4af41329fdca655" class="external-link">190000c</a>
</li>
<li>Fix bug in simulation of M random effects with “ar1_y” option <a href="https://github.com/timjmiller/wham/commit/77bbd946e4881216a439933473d1c58b21c270c3" class="external-link">77bbd94</a>
</li>
<li>Fix bug in check_projF which tests whether the F in projections is being specified correctly when FXSPR or F at catch is specified <a href="https://github.com/timjmiller/wham/commit/c643d4ba8339c13dd4b9e3662aaa29f26d309624" class="external-link">c643d4b</a>
</li>
<li>Fix index proportions at age data specification in basic_info <a href="https://github.com/timjmiller/wham/issues/64" class="external-link">issue 64</a> <a href="https://github.com/timjmiller/wham/commit/a3e3afc9b23e2ca4e3d369581dfcf2b33732686c" class="external-link">a3e3afc</a>
</li>
<li>Fix age of full selection for N1_model = 1 <a href="https://github.com/timjmiller/wham/issues/56" class="external-link">issue 56</a> <a href="https://github.com/timjmiller/wham/commit/865ca3d304c2d5eddcf044fe3d3776ada42b07aa" class="external-link">865ca3d</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.6" id="wham-106-2022-04-08">wham 1.0.6 (2022-04-08)<a class="anchor" aria-label="anchor" href="#wham-106-2022-04-08"></a></h2>
<div class="section level4">
<h4 id="major-improvements-1-0-6">Major improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-6"></a></h4>
<ul><li>One-step-ahead prediction quantile residuals for age compositon observations for most log-likelihoods (Trijoulet et al. 2023) <a href="https://github.com/timjmiller/wham/commit/80e3bbae0244bd1199f018dca53f09b08f5fd203" class="external-link">80e3bba</a>.</li>
<li>Can specify a prior distribution on fully-selected catchability (logit-scale) which is then estimated as a random effect <a href="https://github.com/timjmiller/wham/commit/fcbc604068005cd7cce6c3f329376c2b4ef7b540" class="external-link">fcbc604</a>.</li>
<li>Auto-regressive random effects for fully-selected catchability <a href="https://github.com/timjmiller/wham/commit/fcbc604068005cd7cce6c3f329376c2b4ef7b540" class="external-link">fcbc604</a>.</li>
<li>Environmental covariate effects on fully-selected catchability <a href="https://github.com/timjmiller/wham/commit/fcbc604068005cd7cce6c3f329376c2b4ef7b540" class="external-link">fcbc604</a>.</li>
<li>One or more environmental covariates can have multiple effects on recruitment, M, and catchability <a href="https://github.com/timjmiller/wham/commit/fcbc604068005cd7cce6c3f329376c2b4ef7b540" class="external-link">fcbc604</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-1-0-6">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-6"></a></h4>
<ul><li>Expanded set of age composition models including allowing AR1 correlation for logistic-normal <a href="https://github.com/timjmiller/wham/commit/80e3bbae0244bd1199f018dca53f09b08f5fd203" class="external-link">80e3bba</a>.</li>
<li>Example 11 script and vignette (and tests) added to demonstrated extensions for modeling catchability <a href="https://github.com/timjmiller/wham/commit/173555d1485d52ca58aa77ae77fad856fa8b3bbb" class="external-link">173555d</a>.</li>
<li>New plots added to plot_wham_output.R and wham_plots_tables.R to include new catchability features <a href="https://github.com/timjmiller/wham/commit/173555d1485d52ca58aa77ae77fad856fa8b3bbb" class="external-link">173555d</a>.</li>
<li>Added reporting of SPR-based reference points that use SPR inputs averged over the same years as they would for FXSPR in projection years <a href="https://github.com/timjmiller/wham/commit/5d1cd9dd6b4ec8214e988be1fb4c5e6f4b51a661" class="external-link">5d1cd9d</a>.</li>
<li>Fixed and generalized configuration for estimation of observation error variances for environmental covariates for <code>prepare_wham_input</code> (<code>ecov$logsigma</code>) <a href="https://github.com/timjmiller/wham/commit/a3328a9a9652a7fc3f0eb45ee4688fcdaa4334f7" class="external-link">a3328a9</a>.</li>
<li>Added tables (html or pdf) of estimated parameters, abundance at age, and fishing mortality at age to results generated by <code>plot_wham_output</code> <a href="https://github.com/timjmiller/wham/commit/13094c674a53d495021711531c083184e3c6b892" class="external-link">13094c6</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-6"></a></h4>
<ul><li>Fix age labeling for selectivity and numbers at age retro plots.</li>
<li>Fix typo in set_NAA.r for N1_model option (issue <a href="https://github.com/timjmiller/wham/issues/55" class="external-link">issue 55</a> caught by <a href="https://github.com/Cole-Monnahan-NOAA" class="external-link">@Cole-Monnahan-NOAA</a>).</li>
<li>Fix errors in <code>prepare_wham_input</code> introduced in 1.0.5 when not all index data in <code>.dat</code> are used (aggregate or proportion-at-age, all years or a subset) <a href="https://github.com/timjmiller/wham/commit/12abdefb22e7b8b5f0640b0389b5e07fc7a00877" class="external-link">12abdef</a>
</li>
<li>Updated version of <code>TMBhelper::check_estimability</code> is now internal <a href="https://github.com/timjmiller/wham/issues/47" class="external-link">issue 47</a>
</li>
<li>Peel <code>which_F_age</code> (fix error when projecting a peel doing retrospective predictions, ex9)</li>
<li>Ecov AR1 mean parameterization</li>
<li>simulation of Dirichlet-multinomial age composition (<a href="https://github.com/timjmiller/wham/issues/49" class="external-link">issue 49</a>, caught by <a href="https://github.com/seananderson" class="external-link">@seananderson</a>).</li>
<li>error reported in <a href="https://github.com/timjmiller/wham/issues/48" class="external-link">issue 48</a>. There is no <code>opt</code> element when do.fit = FALSE.</li>
<li>
<code>plot_wham_output</code> now removes any existing plot files in the directories where plots are saved before writing files so that any orphaned files from previous fits are not included in the results and html rendering.</li>
<li>
<code>plot_wham_output</code> now creates <code>.png</code> output by default because of 1) issues opening the <code>.html</code> in Firefox on Windows, and 2) it was annoying to close dozens of browser tabs during testing. issues <a href="https://github.com/timjmiller/wham/issues/42" class="external-link">42</a> and <a href="https://github.com/timjmiller/wham/issues/50" class="external-link">50</a>, thanks to <a href="https://github.com/ejosymart" class="external-link">@ejosymart</a> and <a href="https://github.com/JDeroba" class="external-link">@JDeroba</a>.</li>
<li>
<code>set_catch</code> bug when catch age comp data exist for some years and not others</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.5" id="wham-105-2021-08-25">wham 1.0.5 (2021-08-25)<a class="anchor" aria-label="anchor" href="#wham-105-2021-08-25"></a></h2>
<div class="section level4">
<h4 id="major-improvements-1-0-5">Major improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-5"></a></h4>
<ul><li>
<code>prepare_wham_input</code> is now modularized and can take a “basic_info” argument or generate a dummy input for fit_wham without an asap3 object. This provides better organization and helps fix the operating model/MSE features that have been broken since version 1.0.0. Options have been added to NAA_re argument to configure how initial numbers at age and recruitment are treated. Including initial parameter values. A tenth example and vignette illustrate the usage to generate an assessment model without an asap3 file and a simple management strategy evaluation <a href="https://github.com/timjmiller/wham/commit/87d87c9ded5c3fa58db779cbd1ac8eb911950e4e" class="external-link">9bc161d</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-1-0-5">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-5"></a></h4>
<ul><li>Options have been added to NAA_re argument to configure how initial numbers at age and recruitment are treated. Including initial parameter values.</li>
<li>NOAA pkgdown website template, thanks to <a href="https://github.com/Bai-Li-NOAA" class="external-link">@Bai-Li-NOAA</a> <a href="https://github.com/timjmiller/wham/commit/7618bb0427743fffbb6db49465fd8c2f73993719" class="external-link">7618bb</a>
</li>
<li>Add <code>ecov$ages</code>, allows user to specify that an ecov only affects a subset of ages <a href="https://github.com/timjmiller/wham/commit/e6518f8f09f1c252517e6dc89b98776d687d417b" class="external-link">e6518f</a>
</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-5"></a></h4>
<ul><li>Don’t plot age comp residuals for fleets/indices/years that are not used <a href="https://github.com/timjmiller/wham/commit/6876eed1dd4bbdc7b26295356756bb7a30053887" class="external-link">6876ee</a>
</li>
<li>Fix <code>Ecov_re</code> padding in projections with multiple ecovs that have different lags <a href="https://github.com/timjmiller/wham/commit/a57f3b339881a39dbee3ab0ab190c732f855dec1" class="external-link">a57f3b</a>
</li>
<li>Default to use static reference points in projections (so ref pts are consistent across multiple projections) <a href="https://github.com/timjmiller/wham/commit/74a6c3cda74e5f2f14a6471e410b227c407e0790" class="external-link">74a6c3</a>
</li>
<li>Diagnostic plots for log catch and indices did not use bias correction <a href="https://github.com/timjmiller/wham/issues/46" class="external-link">issue 46</a>. Now they do.</li>
<li>Fixed bug in index diagnostic plot when index is in biomass and age comp is in numbers.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.4" id="wham-104-2021-05-03">wham 1.0.4 (2021-05-03)<a class="anchor" aria-label="anchor" href="#wham-104-2021-05-03"></a></h2>
<p>WHAM description + simulation test paper published: <a href="https://doi.org/10.1016/j.fishres.2021.105967" class="external-link">https://doi.org/10.1016/j.fishres.2021.105967</a></p>
<div class="section level4">
<h4 id="major-improvements-1-0-4">Major improvements<a class="anchor" aria-label="anchor" href="#major-improvements-1-0-4"></a></h4>
<ul><li>New ability to plot results from multiple ASAP3 and WHAM models together for comparison. Thanks to <a href="https://github.com/liz-brooks" class="external-link">@liz-brooks</a> for contributing <code>read_asap3_fit</code>! See <code><a href="../reference/compare_wham_models.html">?compare_wham_models</a></code> and new <a href="https://timjmiller.github.io/wham/articles/ex8_compare.html">vignette 8</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="minor-improvements-1-0-4">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-4"></a></h4>
<ul><li>New <code>save.sdrep = F</code> option to only save <code>summary(sdreport)</code> instead of <code>sdreport</code>. Can make saved models MUCH smaller (e.g. 2 MB vs. 150 MB). (<a href="https://github.com/timjmiller/wham/commit/2f8875323c0d6845a92444a9e7d4aaa92fe29d8d" class="external-link">2f8875</a>).</li>
<li>Added <code>proj.opts$percentFXSPR</code> option, percent of F_XSPR to use for calculating catch in projections. For example, GOM cod uses F = 75% F_XSPR, so <code>proj.opts$percentFXSPR = 75</code>.</li>
<li>Added <code>proj.opts$useFMSY</code> and <code>proj.opts$percentFMSY</code> options, to project population and catches at (a percentage of) F_MSY. (<a href="https://github.com/timjmiller/wham/commit/46753202499cbf256fb79796f8570e045dddb9db" class="external-link">467532</a>)</li>
<li>Allow peels to be projected so can do retrospective predictions, as in Fig. 4 of <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/fog.12236" class="external-link">Xu et al. 2018</a>. See new <a href="https://timjmiller.github.io/wham/articles/ex9_retro_pred.html">vignette 9</a>. (<a href="https://github.com/timjmiller/wham/commit/e1e00c712fcba0d0631dd9321e3bb83b87a1485f#diff-7f3a4433e0573f6fd6787d47614e0303f714e2d71d9e618ecfb832195987b732" class="external-link">e1e00c</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-4"></a></h4>
<ul><li>Broken links in vignettes (thanks to <a href="https://github.com/tcarruth" class="external-link">@tcarruth</a>)</li>
<li>Plotting issue with Ecov OSA residuals and peels (thanks to <a href="https://github.com/h-du-pontavice" class="external-link">@h-du-pontavice</a>, <a href="https://github.com/timjmiller/wham/commit/1163df4290387174a5336ada98a13dc0f5a9644c" class="external-link">1163df</a>)</li>
<li>Double logistic selectivity setup in <code>prepare_wham_input</code> (thanks to <a href="https://github.com/tcarruth" class="external-link">@tcarruth</a>, <a href="https://github.com/timjmiller/wham/commit/f270ddb66d253ac2aaf9a0109631b89036ddcd5e" class="external-link">f270dd</a>)</li>
<li>
<code>tryCatch</code> error assignment issues (<a href="https://github.com/timjmiller/wham/commit/9d5c8792769dae9e640da3ad44b7f3e6b74e4a87" class="external-link">9d5c87</a>)</li>
<li>Remove error in default projection options (<code>percentSPR</code>)</li>
<li>Setting up projections with multiple Ecovs (again thanks to <a href="https://github.com/h-du-pontavice" class="external-link">@h-du-pontavice</a>, <a href="https://github.com/timjmiller/wham/commit/42a6a4950e85613219525e89c5590c37f3a6369f" class="external-link">42a6a4</a>)</li>
<li>Selectivity parameter initial values set to middle of range if unspecified in <code>prepare_wham_input</code>
</li>
<li>Fixed <code>fit_tmb</code> to make <code>$final_gradient</code> reported by wham equivalent to <code>sdreport()$gradient.fixed</code>. Issue was that the <code>model$env$last.par.best</code> is not updated by the newton steps after optimization so <code>model$opt$par</code> was slightly different (10^(-7) or smaller). <a href="https://github.com/timjmiller/wham/commit/e20bd8d01a32b1cbdb826905257555f9a8b55c75" class="external-link">e20bd8</a>
</li>
<li>Factor order problem caused indices to be out of order when &gt; 9 indices present. <a href="https://github.com/timjmiller/wham/commit/9e0141b59bb80d17b9fc79662e3f38b24b8991f1" class="external-link">9e0141</a>
</li>
<li>Fixed default determination of age corresponding to fully selected (total) fishing mortality. Now <code>which_F_age</code> is a vector of annual values (including projection years) and the values are reassigned after fitting before reporting. (<a href="https://github.com/timjmiller/wham/commit/189b6cede494a53763afcda5b0bf6854fed095d5" class="external-link">189b6c</a>)</li>
<li>Added check for F_XSPR to verify percent of SPR0 is correct and, in projections, catch at F from catch is verified. Initial values for these algorithms can be specified by the user. (<a href="https://github.com/timjmiller/wham/commit/189b6cede494a53763afcda5b0bf6854fed095d5" class="external-link">189b6c</a>)</li>
<li>If ecov years differ from model years, peel to same year in <code>fit_peel</code> (<a href="https://github.com/timjmiller/wham/commit/e1e00c712fcba0d0631dd9321e3bb83b87a1485f" class="external-link">e1e00c</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.3" id="wham-103-2021-02-05">wham 1.0.3 (2021-02-05)<a class="anchor" aria-label="anchor" href="#wham-103-2021-02-05"></a></h2>
<div class="section level4">
<h4 id="minor-improvements-1-0-3">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-3"></a></h4>
<ul><li>allow for multiple ecov effects on recruitment and M</li>
<li>add WHAM version to model object (version and GitHub commit). Requires <code>sessioninfo</code> package (within <code>devtools</code>).</li>
<li>for SCAA (recruitment as fixed effects), treat recruitment in projections as random effects with mean and SD calculated from model years (previously was fixed at <code>exp(10)</code>). This approximates ASAP + AgePro, allows for simulating projected recruitment according to the ECDF.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-3"></a></h4>
<ul><li>clean up error messages (remove global <code>err</code> object) <a href="https://github.com/timjmiller/wham/commit/53f5ec67a6f60ea85b928debc4a57d0ee6673e78" class="external-link">53f5ec6</a>
</li>
<li>adjust age composition variance (<code>tau</code>) by effective sample size (<code>Neff</code>) for option 7 <a href="https://github.com/timjmiller/wham/commit/4c133312b2ecaab3972be13a96b4b456d9c1f6b0" class="external-link">4c13331</a>
</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.2" id="wham-102-2020-12-14">wham 1.0.2 (2020-12-14)<a class="anchor" aria-label="anchor" href="#wham-102-2020-12-14"></a></h2>
<div class="section level4">
<h4 id="minor-improvements-1-0-2">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-2"></a></h4>
<ul><li>add <code>1e-15</code> to predicted proportions to make age composition likelihoods robust to 0 predictions when selAA is fixed at 0. This affects the multinomial, Dirichlet, and Dirichlet-multinomial (options 1-3), since the logistic normal (options 4-7) already did this. <a href="https://github.com/timjmiller/wham/commit/88f15d4a51f69a3d649d76bcac0a8cf299c3135e" class="external-link">88f15d4</a>
</li>
<li>specify age composition model using <code>age_comp</code> argument to <code>prepare_wham_input</code>. See <a href="https://timjmiller.github.io/wham/reference/prepare_wham_input.html"><code>?prepare_wham_input</code></a> for details. <a href="https://github.com/timjmiller/wham/commit/fd94b3dcaf189482e10a6750c2f1b8350837fd48" class="external-link">fd94b3d</a>
</li>
<li>estimate age-specific M for any age(s) (<a href="https://github.com/timjmiller/wham/commit/60f13584e515950bf43f358c5a0cfdb0e8a30241" class="external-link">60f1358</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-2"></a></h4>
<ul><li>check for sel par inits outside lower/upper bounds (<a href="https://github.com/timjmiller/wham/commit/4ed394bac38d6054727bc4d3e17c8f4452ae8289" class="external-link">4ed394b</a>)</li>
<li>fleet weight-at-age pointers fixed (<a href="https://github.com/timjmiller/wham/commit/059e66a1cc6e90554862b3e30e815cf0d5cd18ab" class="external-link">059e66a</a>)</li>
<li>couple small fixes to handle multiple Ecovs (<a href="https://github.com/timjmiller/wham/commit/9e46b4818e01b2bfd12e500bd4376869001f265e" class="external-link">9e46b48</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.1" id="wham-101-2020-11-12">wham 1.0.1 (2020-11-12)<a class="anchor" aria-label="anchor" href="#wham-101-2020-11-12"></a></h2>
<div class="section level4">
<h4 id="minor-improvements-1-0-1">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-1-0-1"></a></h4>
<ul><li>
<code>run_all_examples.R</code> script to test all examples work</li>
<li>new vignette on debugging WHAM models</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-1-0-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-1"></a></h4>
<ul><li>update <code><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">tidyr::gather</a></code> to <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer</a></code> (<a href="https://github.com/timjmiller/wham/commit/80bf89a69975a4ac5c037127d094afc3b00b7f59" class="external-link">80bf89a</a>)</li>
<li>if all selpars fixed then use ASAP file inits (<a href="https://github.com/timjmiller/wham/commit/2887e87aa4af08530765fbf04c002a00afd8efa1" class="external-link">2887e87</a>)</li>
<li>update example scripts 4, 5, 6 (<a href="https://github.com/timjmiller/wham/commit/31cb9a931a83e9c76e5d63fd52243de917fe7c99" class="external-link">31cb9a9</a>)</li>
<li>avoid font family warnings on Windows (<a href="https://github.com/timjmiller/wham/commit/af42be4d940785539f00e3ec29a85c605ef2a0de" class="external-link">af42be4</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="1.0.0" id="wham-100-2020-10-07">wham 1.0.0 (2020-10-07)<a class="anchor" aria-label="anchor" href="#wham-100-2020-10-07"></a></h2>
<ul><li>This is the first release of WHAM.</li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tim Miller, Brian Stock.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

