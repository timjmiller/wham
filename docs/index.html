<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Woods Hole Assessment Model (WHAM) • wham</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Woods Hole Assessment Model (WHAM)">
<meta property="og:description" content="The Woods Hole Assessment Model (WHAM) is a general age-structured stock assessment framework that can be configured to estimate assessment models that range in complexity from statistical catch-at-age (SCAA) model with annual recruitments as fixed effects, to state-space, multi-stock, multi-region, age-structured models where many parameters can be treated as time- and age-varying process errors and/or allowing effects of environmental covariates. WHAM is a generalization of code from Miller et al. (2016), Miller and Hyun (2018), and Miller et al. (2018). WHAM also has many similarities of input data sources with ASAP (Legault and Restrepo 1999) and provides functions to generate a WHAM input file from an ASAP3 dat file, although this is not a requirement. Many of the plotting functions for input data, results, and diagnostics have modified from code written by Chris Legault and Liz Brooks.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">wham</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book fa-lg"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/index.html">Overview</a>
    </li>
    <li>
      <a href="articles/ex01_basics.html">Ex 1: The basics</a>
    </li>
    <li>
      <a href="articles/ex02_CPI_recruitment.html">Ex 2: Recruitment linked to an environmental covariate (Cold Pool Index)</a>
    </li>
    <li>
      <a href="articles/ex03_projections.html">Ex 3: Projecting / forecasting random effects</a>
    </li>
    <li>
      <a href="articles/ex4_selectivity.html">Ex 4: Selectivity with time- and age-varying random effects</a>
    </li>
    <li>
      <a href="articles/ex05_GSI_M.html">Ex 5: Time-varying natural mortality linked to the Gulf Stream Index</a>
    </li>
    <li>
      <a href="articles/ex06_NAA.html">Ex 6: Numbers-at-age / survival deviations as random effects</a>
    </li>
    <li>
      <a href="articles/ex07_debug.html">Ex 7: Debugging WHAM models</a>
    </li>
    <li>
      <a href="articles/ex08_compare.html">Ex 8: Compare ASAP and WHAM model results</a>
    </li>
    <li>
      <a href="articles/ex09_retro_pred.html">Ex 9: Retrospective predictions</a>
    </li>
    <li>
      <a href="articles/ex10_simulation.html">Ex 10: Simulations</a>
    </li>
    <li>
      <a href="articles/ex11_catchability.html">Ex 11: Catchability configurations</a>
    </li>
    <li>
      <a href="articles/ex12_multistock.html">Ex 12: Multiple stocks, regions</a>
    </li>
    <li>
      <a href="articles/ex13_no_ASAP.html">Ex 13: WHAM without ASAP</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">
    <span class="far fa-file-code fa-lg"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="https://github.com/timjmiller/wham/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
    Source code
  </a>
</li>
<li>
  <a href="news/index.html">
    <span class="fas fa-bullhorn fa-lg"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/timjmiller/wham/issues/" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>
     
    Issues
  </a>
</li>
<li>
  <a href="https://www.fisheries.noaa.gov/contact/timothy-miller-phd" class="external-link">
    <span class="fas fa-paper-plane fa-lg"></span>
     
    Contact
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="wham-a-state-space-age-structured-assessment-model">WHAM: a state-space age-structured assessment model<a class="anchor" aria-label="anchor" href="#wham-a-state-space-age-structured-assessment-model"></a>
</h1></div>
<p>The Woods Hole Assessment Model (WHAM) is a general age-structured stock assessment framework that can be configured to estimate assessment models that range in complexity from statistical catch-at-age (SCAA) model with annual recruitments as fixed effects, to state-space, multi-stock, multi-region, age-structured models where many parameters can be treated as time- and age-varying process errors and/or allowing effects of environmental covariates.</p>
<p>The default configuration of WHAM will estimate a traditional SCAA model with no random effects (see <a href="https://timjmiller.github.io/wham/articles/ex6_NAA.html">Example 6</a>, <a href="https://timjmiller.github.io/wham/articles/ex8_compare.html">Example 8</a>, and <a href="https://timjmiller.github.io/wham/articles/ex13_no_ASAP.html">Example 13</a>)</p>
<p>WHAM can estimate process errors as random effects on:</p>
<ul>
<li>recruitment (<a href="https://timjmiller.github.io/wham/articles/ex1_basics.html">Example 1</a>, <a href="https://timjmiller.github.io/wham/articles/ex6_NAA.html">Example 6</a>, and <a href="https://timjmiller.github.io/wham/articles/ex8_compare.html">Example 8</a>)</li>
<li>transitions in numbers-at-age over time (<a href="https://timjmiller.github.io/wham/articles/ex1_basics.html">Example 1</a>, <a href="https://timjmiller.github.io/wham/articles/ex6_NAA.html">Example 6</a>, <a href="https://timjmiller.github.io/wham/articles/ex8_compare.html">Example 8</a>, and <a href="https://timjmiller.github.io/wham/articles/ex13_no_ASAP.html">Example 13</a>,</li>
<li>selectivity (<a href="https://timjmiller.github.io/wham/articles/ex4_selectivity.html">Example 4</a>),</li>
<li>natural mortality (<a href="https://timjmiller.github.io/wham/articles/ex5_GSI_M.html">Example 5</a>),</li>
<li>index catchability (<a href="https://timjmiller.github.io/wham/articles/ex11_catchability.html">Example 11</a>), and</li>
<li>movement of stocks between regions (<a href="https://timjmiller.github.io/wham/articles/ex12_multistock.html">Example 12</a>)</li>
</ul>
<p>WHAM can also include explicit environmental effects on all parameters above (except selectivity) and uses a state-space treatment of the covariates so that observation error of the covariates is considered (e.g., <a href="https://timjmiller.github.io/wham/articles/ex2_CPI_recruitment.html">Example 2</a> and <a href="https://timjmiller.github.io/wham/articles/ex5_GSI_M.html">Example 5</a>)</p>
<p>A nice property of treating population and environmental processes as random effects is that their uncertainty is naturally propagated in projections/forecasts (<a href="https://timjmiller.github.io/wham/articles/ex3_projections.html">Example 3</a>).</p>
<p>A presentation providing an overview of an early version of WHAM (Jan 8 2021):</p>
<figure class="video_container"><iframe width="560" height="315" src="https://www.youtube.com/embed/o8vJvbIaOdE" frameborder="0" allowfullscreen="true">
</iframe>
</figure><div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>WHAM generalizes and extends R and TMB code from <a href="https://doi.org/10.1139/cjfas-2015-0339" class="external-link">Miller et al. (2016)</a>, <a href="https://doi.org/10.1139/cjfas-2017-0035" class="external-link">Miller and Hyun 2018</a>, and <a href="https://doi.org/10.1139/cjfas-2017-0124" class="external-link">Miller et al. 2018</a>. WHAM has many similarities to ASAP (<a href="https://www.nefsc.noaa.gov/nft/ASAP.html" class="external-link">code</a>, <a href="http://www.ices.dk/sites/pub/Publication%20Reports/Expert%20Group%20Report/acom/2007/WGMHSA/Annex%203%20-%20ICCAT%20Working%20Document.pdf" class="external-link">Legault and Restrepo 1998</a>), including the input data file structure. Many of the plotting functions for input data, results, and diagnostics are modified from code written by Chris Legault and Liz Brooks (<a href="https://github.com/cmlegault/ASAPplots" class="external-link">ASAPplots</a>).</p>
<p>A paper describing WHAM has been published, which includes the model equations, simulation tests, and demos of random effects options for numbers-at-age, <em>M</em>, selectivity, and environment-recruitment: <a href="https://doi.org/10.1016/j.fishres.2021.105967" class="external-link">https://doi.org/10.1016/j.fishres.2021.105967</a>. Stay tuned for a paper describing generalizations to multiple stocks and regions and movement.</p>
<p><a href="https://doi.org/10.1016/j.fishres.2021.105873" class="external-link">Stock et al. (2021)</a> describes the 2D (year x age) AR(1) correlation structure that can be used on numbers-at-age, <em>M</em>, and selectivity in WHAM (as in <a href="https://doi.org/10.1093/icesjms/fsw046" class="external-link">Berg and Nielsen 2016</a>, <a href="https://doi.org/10.1139/cjfas-2015-0047" class="external-link">Cadigan 2016</a>, and <a href="https://doi.org/10.1139/cjfas-2017-0446" class="external-link">Xu et al. 2019</a>).</p>
<p>As mentioned above, WHAM has also been extended (from release 2.0.0) to allow multiple stocks and/or multiple regions to be modeled with movement between regions. Seasonal changes in fleet fishing effort and movement are also possible. The version of WHAM that only allows a single stock and region remains available as the “single_wham” branch, but it will not be developed further.</p>
<p>WHAM is an R package with computation and estimation based on the TMB package <a href="https://doi.org/10.18637/jss.v070.i05" class="external-link">Kristensen et al. 2016</a>, and would not be possible without these superb open-source tools. For more information, see:</p>
<ul>
<li>R: <a href="https://www.r-project.org/" class="external-link uri">https://www.r-project.org/</a>
</li>
<li>TMB: <a href="https://kaskr.github.io/adcomp/_book/Introduction.html" class="external-link uri">https://kaskr.github.io/adcomp/_book/Introduction.html</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>For the latest stable, tested release, with any bug fixes:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>For the development version with recent extensions that passes all existing tests, but with potentially untested new features:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham@devel"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>For the single stock version:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham@single_wham"</span><span class="op">)</span></span></code></pre></div>
<p>You can even install a specific release or commit. E.g.,</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham@v1.0.9"</span><span class="op">)</span></span>
<span><span class="co">#or equivalently the associated commit</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham@40cc14b"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="on-windows">ON WINDOWS<a class="anchor" aria-label="anchor" href="#on-windows"></a>
</h3>
<p>The least frustrating installation of WHAM is via the “pak” package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"timjmiller/wham"</span><span class="op">)</span></span></code></pre></div>
<p>or for the devel branch:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"timjmiller/wham@devel"</span><span class="op">)</span></span></code></pre></div>
<p>or for single stock wham:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"timjmiller/wham@single_wham"</span><span class="op">)</span></span></code></pre></div>
<p>Using “pak” seems to avoid many installation hurdles.</p>
<p>You may still try to install with devtools, but if you get an error about cc1plus.exe running out of memory during installation, try installing only 64bit:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span>, INSTALL_opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--no-multiarch"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>or for the devel branch:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span>, ref <span class="op">=</span> <span class="st">"devel"</span>, INSTALL_opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--no-multiarch"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>If you’re having problems with dependencies not installing. It is probably because some are being used in one or more R sessions. After closing all R sessions and restarting R without any packages first check make sure no packages are loaded (even by e.g. .Rprofile):</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span> <span class="co">## no variables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/search.html" class="external-link">search</a></span><span class="op">(</span><span class="op">)</span> <span class="co">## no packages other than Base</span></span></code></pre></div>
<p>Then:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">to.install</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"plotrix"</span>,<span class="st">"ellipse"</span>,<span class="st">"Hmisc"</span>,<span class="st">"gplots"</span>,<span class="st">"fields"</span>,<span class="st">"RColorBrewer"</span>,<span class="st">"colorspace"</span>,<span class="st">"mnormt"</span>,<span class="st">"Deriv"</span>,<span class="st">"tidyr"</span>,<span class="st">"dplyr"</span>,<span class="st">"ggplot2"</span>,<span class="st">"viridis"</span>, <span class="st">"abind"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"pander"</span>, <span class="st">"kableExtra"</span><span class="op">)</span></span>
<span><span class="va">new.packages</span> <span class="op">&lt;-</span> <span class="va">to.install</span><span class="op">[</span><span class="op">!</span><span class="op">(</span><span class="va">to.install</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html" class="external-link">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span>,<span class="st">"Package"</span><span class="op">]</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">new.packages</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">new.packages</span><span class="op">)</span></span></code></pre></div>
<p>Then use one of the calls above to install wham.</p>
<p>If you want pdfs of parameter tables that are generted by plot_wham_output you will need a tex installation. If you do not use RStudio, use the tinytex package:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"tinytex"</span><span class="op">)</span></span>
<span><span class="fu">tinytex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tinytex/man/install_tinytex.html" class="external-link">install_tinytex</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>and add the path to pandoc in your .Rprofile so Rmarkdown can find your pandoc</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>RSTUDIO_PANDOC <span class="op">=</span> <span class="st">"path/to/your/pandoc"</span><span class="op">)</span> </span></code></pre></div>
<p>NOTE: If you specify <code><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pak::pkg_install</a></code> to install wham to library directory that is not in your <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>. It is best to add the directory because <code>pak</code> installs all dependencies to the same directory and may not be found for example when creating model output with <code>prepare_wham_input</code>. E.g.,</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"timjmiller/wham@single_wham"</span>, lib <span class="op">=</span> <span class="st">"single_wham"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://timjmiller.github.io/wham/">wham</a></span>, lib.loc <span class="op">=</span> <span class="st">"single_wham"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="st">"single_wham"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="releases-and-versions">Releases and Versions<a class="anchor" aria-label="anchor" href="#releases-and-versions"></a>
</h2>
<p>WHAM is now used for management for several stocks and to reduce confusion during the assessment process the latest commit pushed to the master and devel branch will get a unique version number from release v2.0.0 forward.</p>
<p>All releases of the package have versions denoted as (v)a.b.0. (e.g., the first release is v1.0.0). Releases that have lesser changes will increment the second number (e.g., v2.1.0) and releases with large changes will increment the first number (e.g. v3.0.0). When there are commits for bug fixes to the latest release in the master branch of the repo they will increment the third number (e.g., v2.0.1).</p>
<p>The devel branch will always be up-to-date with the master branch and versioned initially as (v)a.b.c.9000. For example, when the released version is changed from v2.0.0 to v2.0.1, devel branch would also go from v2.0.0.9xxx to v2.0.1.9000. The latest pushed commits to devel branch between fixes to the released version will also have a unique version. For example, the next pushed change to devel branch would be v2.0.1.9001.</p>
</div>
<div class="section level2">
<h2 id="tutorial">Tutorial<a class="anchor" aria-label="anchor" href="#tutorial"></a>
</h2>
<p>We suggest walking through the vignettes to familiarize yourself with WHAM: <a href="https://timjmiller.github.io/wham/articles" class="uri">https://timjmiller.github.io/wham/articles</a>.</p>
<p>Clean, runnable <code>.R</code> scripts for most vignettes are also available in the <code>example_scripts</code> folder of the <code>wham</code> package install:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://timjmiller.github.io/wham/">wham</a></span><span class="op">)</span></span>
<span><span class="va">wham.dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/find.package.html" class="external-link">find.package</a></span><span class="op">(</span><span class="st">"wham"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">wham.dir</span>, <span class="st">"example_scripts"</span><span class="op">)</span></span></code></pre></div>
<p>You can then run the entire first example script with:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"choose/where/to/save/output"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">wham.dir</span>, <span class="st">"example_scripts"</span>, <span class="st">"ex1_basics.R"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can run ALL examples with (this is not quick):</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://timjmiller.github.io/wham/">wham</a></span><span class="op">)</span></span>
<span><span class="va">wham.dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/find.package.html" class="external-link">find.package</a></span><span class="op">(</span><span class="st">"wham"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">wham.dir</span>, <span class="st">"example_scripts"</span>, <span class="st">"run_all_examples.R"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="short-course-materials">Short-course materials<a class="anchor" aria-label="anchor" href="#short-course-materials"></a>
</h2>
<p>A short course was given in Woods Hole in June 2024 on using the WHAM package. Slides and corresponding R scripts are available in this <a href="https://github.com/timjmiller/wham_course_WH_2024" class="external-link">repository</a>.</p>
<p>A workshop was given at Memorial University in September 2024 on using the WHAM package, that expanded on the previous short course and included making inputs without ASAP dat files and fitting multi-stock models. Slides and corresponding R scripts are available in this <a href="https://github.com/timjmiller/wham_workshop_MUN_2024" class="external-link">repository</a>.</p>
</div>
<div class="section level2">
<h2 id="installing-vignettes">Installing vignettes<a class="anchor" aria-label="anchor" href="#installing-vignettes"></a>
</h2>
<p>Installation from GitHub does not include the vignettes by default because they can be accessed online anytime at <a href="https://timjmiller.github.io/wham/articles" class="uri">https://timjmiller.github.io/wham/articles</a>. If you want to build the vignettes locally, they look best if you <em>build using R Studio</em>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"timjmiller/wham"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span>, build_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"--no-resave-data"</span>, <span class="st">"--no-manual"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>View installed vignettes:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/browseVignettes.html" class="external-link">browseVignettes</a></span><span class="op">(</span><span class="st">"wham"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<blockquote>
<p>Kristensen, K., Nielsen, A., Berg, C. W., Skaug, H., and Bell, B. M. 2016. TMB: Automatic differentiation and Laplace approximation. Journal of Statistical Software 70(5): 1–21. doi: <a href="https://doi.org/10.18637/jss.v070.i05" class="external-link">10.18637/jss.v070.i05</a>.</p>
</blockquote>
<blockquote>
<p>Legault, C. M. and Restrepo, V. R. 1998. A flexible forward age-structured assessment program. ICCAT. Col. Vol. Sci. Pap. 49: 246-253. <a href="http://www.ices.dk/sites/pub/Publication%20Reports/Expert%20Group%20Report/acom/2007/WGMHSA/Annex%203%20-%20ICCAT%20Working%20Document.pdf" class="external-link">link</a></p>
</blockquote>
<blockquote>
<p>Miller, T. J., Hare, J. A., and Alade, L. A. 2016. A state-space approach to incorporating environmental effects on recruitment in an age-structured assessment model with an application to Southern New England yellowtail flounder. Canadian Journal of Fisheries and Aquatic Sciences 73(8): 1261-1270. doi: <a href="https://doi.org/10.1139/cjfas-2015-0339" class="external-link">10.1139/cjfas-2015-0339</a></p>
</blockquote>
<blockquote>
<p>Miller, T. J. and Hyun, S-Y. 2018. Evaluating evidence for alternative natural mortality and process error assumptions using a state-space, age-structured assessment model. Canadian Journal of Fisheries and Aquatic Sciences 75(5): 691-703. doi: <a href="https://doi.org/10.1139/cjfas-2017-0035" class="external-link">10.1139/cjfas-2017-0035</a></p>
</blockquote>
<blockquote>
<p>Miller, T. J., O’Brien, L., and Fratantoni, P. S. 2018. Temporal and environmental variation in growth and maturity and effects on management reference points of Georges Bank Atlantic cod. Canadian Journal of Fisheries and Aquatic Sciences 75(12): 2159-2171. doi: <a href="https://doi.org/10.1139/cjfas-2017-0124" class="external-link">10.1139/cjfas-2017-0124</a></p>
</blockquote>
<blockquote>
<p>R Core Team. 2020. R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing, Vienna, Austria. <a href="https://www.r-project.org/" class="external-link uri">https://www.r-project.org/</a></p>
</blockquote>
<blockquote>
<p>Stock, B. C., and Miller, T. J. 2021. The Woods Hole Assessment Model (WHAM): A general state-space assessment framework that incorporates time- and age-varying processes via random effects and links to environmental covariates. Fisheries Research, 240: 105967. doi: <a href="https://doi.org/10.1016/j.fishres.2021.105967" class="external-link">10.1016/j.fishres.2021.105967</a></p>
</blockquote>
<blockquote>
<p>Stock, B. C., Xu, H., Miller, T. J., Thorson, J. T., and Nye, J. A. 2021. Implementing two-dimensional autocorrelation in either survival or natural mortality improves a state-space assessment model for Southern New England-Mid Atlantic yellowtail flounder. Fisheries Research, 237: 105873. doi: <a href="https://doi.org/10.1016/j.fishres.2021.105873" class="external-link">10.1016/j.fishres.2021.105873</a></p>
</blockquote>
</div>
<div class="section level2">
<h2 id="noaa-disclaimer">NOAA Disclaimer<a class="anchor" aria-label="anchor" href="#noaa-disclaimer"></a>
</h2>
<p>This repository is a scientific product and is not official communication of the National Oceanic and Atmospheric Administration, or the United States Department of Commerce. All NOAA GitHub project code is provided on an ‘as is’ basis and the user assumes responsibility for its use. Any claims against the Department of Commerce or Department of Commerce bureaus stemming from the use of this GitHub project will be governed by all applicable Federal law. Any reference to specific commercial products, processes, or services by service mark, trademark, manufacturer, or otherwise, does not constitute or imply their endorsement, recommendation or favoring by the Department of Commerce. The Department of Commerce seal and logo, or the seal and logo of a DOC bureau, shall not be used in any manner to imply endorsement of any commercial product or activity by DOC or the United States Government.</p>
<!-- badges: start -->

<!-- badges: end -->
<hr>
<p><img src="https://raw.githubusercontent.com/nmfs-general-modeling-tools/nmfspalette/main/man/figures/noaa-fisheries-rgb-2line-horizontal-small.png" height="75" alt="NOAA Fisheries"></p>
<p><a href="https://www.commerce.gov/" class="external-link">U.S. Department of Commerce</a> | <a href="https://www.noaa.gov" class="external-link">National Oceanographic and Atmospheric Administration</a> | <a href="https://www.fisheries.noaa.gov/" class="external-link">NOAA Fisheries</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/timjmiller/wham/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/timjmiller/wham/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing wham</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Tim Miller <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1411-1206" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Brian Stock <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-2393-6747" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="active badge svg"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Tim Miller, Brian Stock.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
