<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ex 8: Compare ASAP and WHAM model results • wham</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Ex 8: Compare ASAP and WHAM model results">
<meta property="og:description" content="wham">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wham</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book fa-lg"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html">Overview</a>
    </li>
    <li>
      <a href="../articles/ex01_basics.html">Ex 1: The basics</a>
    </li>
    <li>
      <a href="../articles/ex02_CPI_recruitment.html">Ex 2: Recruitment linked to an environmental covariate (Cold Pool Index)</a>
    </li>
    <li>
      <a href="../articles/ex03_projections.html">Ex 3: Projecting / forecasting random effects</a>
    </li>
    <li>
      <a href="../articles/ex4_selectivity.html">Ex 4: Selectivity with time- and age-varying random effects</a>
    </li>
    <li>
      <a href="../articles/ex05_GSI_M.html">Ex 5: Time-varying natural mortality linked to the Gulf Stream Index</a>
    </li>
    <li>
      <a href="../articles/ex06_NAA.html">Ex 6: Numbers-at-age / survival deviations as random effects</a>
    </li>
    <li>
      <a href="../articles/ex07_debug.html">Ex 7: Debugging WHAM models</a>
    </li>
    <li>
      <a href="../articles/ex08_compare.html">Ex 8: Compare ASAP and WHAM model results</a>
    </li>
    <li>
      <a href="../articles/ex09_retro_pred.html">Ex 9: Retrospective predictions</a>
    </li>
    <li>
      <a href="../articles/ex10_simulation.html">Ex 10: Simulations</a>
    </li>
    <li>
      <a href="../articles/ex11_catchability.html">Ex 11: Catchability configurations</a>
    </li>
    <li>
      <a href="../articles/ex12_multistock.html">Ex 12: Multiple stocks, regions</a>
    </li>
    <li>
      <a href="../articles/ex13_no_ASAP.html">Ex 13: WHAM without ASAP</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="far fa-file-code fa-lg"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="https://github.com/timjmiller/wham/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
    Source code
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-bullhorn fa-lg"></span>
     
    News
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/timjmiller/wham/issues/" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>
     
    Issues
  </a>
</li>
<li>
  <a href="https://www.fisheries.noaa.gov/contact/timothy-miller-phd" class="external-link">
    <span class="fas fa-paper-plane fa-lg"></span>
     
    Contact
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Ex 8: Compare ASAP and WHAM model results</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/timjmiller/wham/blob/HEAD/vignettes/ex08_compare.Rmd" class="external-link"><code>vignettes/ex08_compare.Rmd</code></a></small>
      <div class="hidden name"><code>ex08_compare.Rmd</code></div>

    </div>

    
    
<p>This is the 8th WHAM example. We assume you already have
<code>wham</code> installed and are relatively familiar with the
package. If not, read the <a href="https://timjmiller.github.io/wham/">Introduction</a> and <a href="https://timjmiller.github.io/wham/articles/">Tutorial</a>.</p>
<p>In this vignette we show how to read in ASAP3 model results and
compare to WHAM models, using the <code><a href="../reference/compare_wham_models.html">compare_wham_models()</a></code>
function. We use the <a href="https://apps-nefsc.fisheries.noaa.gov/saw/sasi/uploads/2019_HAD_GB_RPT.pdf" class="external-link">2019
Georges Bank haddock stock assessment</a>, which is an update to the VPA
benchmark (<a href="https://repository.library.noaa.gov/view/noaa/5227" class="external-link">NEFSC
2008</a>). Thanks to Liz Brooks for sharing the ASAP3 data file and
model output in preparation for the 2021 research track assessment–these
files and results are very preliminary.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_github("timjmiller/wham", dependencies=TRUE)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://timjmiller.github.io/wham/">wham</a></span><span class="op">)</span></span></code></pre></div>
<p>Create a directory for this analysis:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># choose a location to save output, otherwise will be saved in working directory</span></span>
<span><span class="va">write.dir</span> <span class="op">&lt;-</span> <span class="st">"choose/where/to/save/output"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">write.dir</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">write.dir</span><span class="op">)</span></span></code></pre></div>
<p>The Georges Bank haddock ASAP data file is distributed in
<code>wham</code>. Read in the ASAP file, <code>BASE_3.DAT</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wham.dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/find.package.html" class="external-link">find.package</a></span><span class="op">(</span><span class="st">"wham"</span><span class="op">)</span></span>
<span><span class="va">asap.dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">wham.dir</span>,<span class="st">"extdata"</span>,<span class="st">"BASE_3"</span><span class="op">)</span></span>
<span><span class="va">asap3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_asap3_dat.html">read_asap3_dat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">asap.dir</span>,<span class="st">"BASE_3.DAT"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Define three basic WHAM models with different numbers-at-age random
effects:</p>
<ul>
<li>
<code>m1</code>: similar to ASAP, where recruitment deviations in
each year are estimated as fixed effect parameters.</li>
<li>
<code>m2</code>: recruitment as random effects, estimating <span class="math inline">\(\sigma^2_R\)</span>.</li>
<li>
<code>m3</code>: all numbers-at-age are random effects, i.e. the
full state-space model.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df.mods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>naa_sig<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'none'</span>,<span class="st">'rec'</span>,<span class="st">'rec+1'</span><span class="op">)</span>, naa_cor<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'none'</span>,<span class="st">'iid'</span>,<span class="st">'iid'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">n.mods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df.mods</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">df.mods</span><span class="op">$</span><span class="va">Model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"m"</span>,<span class="fl">1</span><span class="op">:</span><span class="va">n.mods</span><span class="op">)</span></span>
<span><span class="va">df.mods</span> <span class="op">&lt;-</span> <span class="va">df.mods</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Model</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="co"># moves Model to first col</span></span>
<span></span>
<span><span class="co"># look at model table</span></span>
<span><span class="va">df.mods</span></span>
<span><span class="co">#&gt;   Model naa_sig naa_cor</span></span>
<span><span class="co">#&gt; 1    m1    none    none</span></span>
<span><span class="co">#&gt; 2    m2     rec     iid</span></span>
<span><span class="co">#&gt; 3    m3   rec+1     iid</span></span></code></pre></div>
<div class="section level2">
<h2 id="run-the-wham-models">Run the WHAM models<a class="anchor" aria-label="anchor" href="#run-the-wham-models"></a>
</h2>
<p>All models use the same options for expected recruitment (random
about mean, no stock-recruit function) and selectivity as specified in
<code>BASE_3.DAT</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">m</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">n.mods</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">NAA_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cor<span class="op">=</span><span class="va">df.mods</span><span class="op">[</span><span class="va">m</span>,<span class="st">"naa_cor"</span><span class="op">]</span>, sigma<span class="op">=</span><span class="va">df.mods</span><span class="op">[</span><span class="va">m</span>,<span class="st">"naa_sig"</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">NAA_list</span><span class="op">$</span><span class="va">sigma</span> <span class="op">==</span> <span class="st">'none'</span><span class="op">)</span> <span class="va">NAA_list</span> <span class="op">=</span> <span class="cn">NULL</span></span>
<span></span>
<span>  <span class="va">input</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prepare_wham_input.html">prepare_wham_input</a></span><span class="op">(</span><span class="va">asap3</span>, recruit_model <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                              model_name <span class="op">=</span> <span class="va">df.mods</span><span class="op">$</span><span class="va">Model</span><span class="op">[</span><span class="va">m</span><span class="op">]</span>,                         </span>
<span>                              NAA_re <span class="op">=</span> <span class="va">NAA_list</span><span class="op">)</span>   </span>
<span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_wham.html">fit_wham</a></span><span class="op">(</span><span class="va">input</span>, do.osa<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">mod</span>, file<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">df.mods</span><span class="op">$</span><span class="va">Model</span><span class="op">[</span><span class="va">m</span><span class="op">]</span>,<span class="st">".rds"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="look-at-convergence-and-diagnostics">Look at convergence and diagnostics<a class="anchor" aria-label="anchor" href="#look-at-convergence-and-diagnostics"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod.list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"m"</span>,<span class="fl">1</span><span class="op">:</span><span class="va">n.mods</span>,<span class="st">".rds"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">mod.list</span>, <span class="va">readRDS</span><span class="op">)</span></span>
<span><span class="va">ok_sdrep</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">mods</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="kw">if</span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">na_sdrep</span><span class="op">==</span><span class="cn">FALSE</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">na_sdrep</span><span class="op">)</span><span class="op">)</span> <span class="fl">1</span> <span class="kw">else</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">df.mods</span><span class="op">$</span><span class="va">conv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">mods</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">$</span><span class="va">opt</span><span class="op">$</span><span class="va">convergence</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># 0 means opt converged</span></span>
<span><span class="va">df.mods</span><span class="op">$</span><span class="va">pdHess</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/logical.html" class="external-link">as.logical</a></span><span class="op">(</span><span class="va">ok_sdrep</span><span class="op">)</span></span>
<span><span class="va">conv_mods</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">n.mods</span><span class="op">)</span><span class="op">[</span><span class="va">df.mods</span><span class="op">$</span><span class="va">pdHess</span><span class="op">]</span> </span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">m</span> <span class="kw">in</span> <span class="va">conv_mods</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/plot_wham_output.html">plot_wham_output</a></span><span class="op">(</span>mod<span class="op">=</span><span class="va">mods</span><span class="op">[[</span><span class="va">m</span><span class="op">]</span><span class="op">]</span>, out.type<span class="op">=</span><span class="st">'pdf'</span>, dir.main<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"m"</span>,<span class="va">m</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Get output from ASAP model run using <code><a href="../reference/read_asap3_fit.html">read_asap3_fit()</a></code>.
Then combine the ASAP model and 3 WHAM models into a named list,
<code>mods</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">base</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_asap3_fit.html">read_asap3_fit</a></span><span class="op">(</span>wd<span class="op">=</span><span class="va">asap.dir</span>, asap.name<span class="op">=</span><span class="st">"BASE_3"</span><span class="op">)</span></span>
<span><span class="va">mods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span>,<span class="va">mods</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mods</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ASAP"</span>,<span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"WHAM-"</span>,<span class="va">df.mods</span><span class="op">$</span><span class="va">Model</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="comparison-plots">Comparison plots<a class="anchor" aria-label="anchor" href="#comparison-plots"></a>
</h2>
<p>Now we can use <code><a href="../reference/compare_wham_models.html">compare_wham_models()</a></code> to plot key output
from all 4 models together for comparison.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>kobe.prob<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">res</span>, file<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"res.rds"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>There are many options, see <code><a href="../reference/compare_wham_models.html">?compare_wham_models</a></code>. To
only get the AIC and retro table, not plots (note that ASAP models
cannot be included here).</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, do.plot<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">tab</span>,<span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;          dAIC    AIC rho_R rho_SSB rho_Fbar</span></span>
<span><span class="co">#&gt; WHAM-m1   0.0 5749.1  0.89    0.29    -0.24</span></span>
<span><span class="co">#&gt; WHAM-m3 123.1 5872.2  0.40    0.21    -0.20</span></span>
<span><span class="co">#&gt; WHAM-m2 354.9 6104.0  0.79    0.28    -0.24</span></span></code></pre>
<p>Only get the plots, not the table</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, do.table<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<div class="section level6">
<h6 id="plot-1-3-panel-of-ssb-spawning-stock-biomass-f-fully-selected-fishing-mortality-and-recruitment">Plot 1: 3-panel of SSB (spawning stock biomass), F (fully-selected
fishing mortality), and Recruitment<a class="anchor" aria-label="anchor" href="#plot-1-3-panel-of-ssb-spawning-stock-biomass-f-fully-selected-fishing-mortality-and-recruitment"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_SSB_F_R.png" style="width:60.0%"></p>
</div>
<div class="section level6">
<h6 id="plot-2-cv-coefficient-of-variation-for-ssb-f-and-recruitment">Plot 2: CV (coefficient of variation) for SSB, F, and
Recruitment<a class="anchor" aria-label="anchor" href="#plot-2-cv-coefficient-of-variation-for-ssb-f-and-recruitment"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_CV.png" style="width:60.0%"></p>
</div>
<div class="section level6">
<h6 id="plot-3-fleet-selectivity-by-block-averaged-across-years">Plot 3: Fleet selectivity (by block, averaged across years)<a class="anchor" aria-label="anchor" href="#plot-3-fleet-selectivity-by-block-averaged-across-years"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_sel_fleets.png" style="width:60.0%"></p>
</div>
<div class="section level6">
<h6 id="plot-4-index-selectivity-by-block-averaged-across-years">Plot 4: Index selectivity (by block, averaged across years)<a class="anchor" aria-label="anchor" href="#plot-4-index-selectivity-by-block-averaged-across-years"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_sel_indices.png" style="width:60.0%"></p>
</div>
<div class="section level6">
<h6 id="plot-5-selectivity-tile-fleets-indices-more-useful-for-time-varying-random-effects">Plot 5: Selectivity tile (fleets + indices, more useful for
time-varying random effects)<a class="anchor" aria-label="anchor" href="#plot-5-selectivity-tile-fleets-indices-more-useful-for-time-varying-random-effects"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_sel_tile.png" style="width:60.0%"></p>
<p>Plots 6 and 7 are only interesting when M is time-varying, so we omit
them there.</p>
</div>
<div class="section level6">
<h6 id="plot-8-3-panel-of-f-x-spr-ssb-at-f_xspr-and-yield-at-f_xspr">Plot 8: 3-panel of F X% SPR, SSB at F_X%SPR, and yield at
F_X%SPR<a class="anchor" aria-label="anchor" href="#plot-8-3-panel-of-f-x-spr-ssb-at-f_xspr-and-yield-at-f_xspr"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_ref_pts.png" style="width:60.0%"></p>
</div>
<div class="section level6">
<h6 id="plot-9-2-panel-of-relative-status-ssb-ssb-at-f_xspr-and-f-f_xspr">Plot 9: 2-panel of relative status (SSB / SSB at F_X%SPR and F /
F_X%SPR)<a class="anchor" aria-label="anchor" href="#plot-9-2-panel-of-relative-status-ssb-ssb-at-f_xspr-and-f-f_xspr"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_rel_status_timeseries.png" style="width:60.0%"></p>
</div>
<div class="section level6">
<h6 id="plot-10-kobe-status-relative-ssb-vs--relative-f">Plot 10: Kobe status (relative SSB vs. relative F)<a class="anchor" aria-label="anchor" href="#plot-10-kobe-status-relative-ssb-vs--relative-f"></a>
</h6>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/compare_rel_status_kobe.png" style="width:60.0%"></p>
</div>
</div>
<div class="section level2">
<h2 id="modifying-comparison-plots">Modifying comparison plots<a class="anchor" aria-label="anchor" href="#modifying-comparison-plots"></a>
</h2>
<p>Many modifications can be made using built-in options, see
<code>$plot.opts</code> in <code><a href="../reference/compare_wham_models.html">compare_wham_models()</a></code>.</p>
<p>Plots are saved as png by default, can be pdf</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>out.type<span class="op">=</span><span class="st">'pdf'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><code>$which</code> lets you choose which of the plots to make
<code>$years</code> lets you only plot a subset of model years</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># which = 9 (only plot relative status)</span></span>
<span><span class="co"># years = 1980-2018</span></span>
<span><span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, do.table<span class="op">=</span><span class="cn">F</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>years<span class="op">=</span><span class="fl">1980</span><span class="op">:</span><span class="fl">2018</span>, which<span class="op">=</span><span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which9_zoom.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">6.5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which9_zoom.png" style="width:60.0%"></p>
<p><code>$ci</code> can turn off the confidence interval shading for all
or some models</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># which = 1 (SSB, F, recruitment)</span></span>
<span><span class="co"># ci = FALSE (remove confidence intervals for all models, can also choose a subset)</span></span>
<span><span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, do.table<span class="op">=</span><span class="cn">F</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ci<span class="op">=</span><span class="cn">FALSE</span>, which<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which1_noCI.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">6.5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which1_noCI.png" style="width:60.0%"></p>
<p><code>$relative.to</code> lets you plot differences between the
models relative to a base model (here, ASAP)</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># which = 2 (CV of SSB, F, recruitment)</span></span>
<span><span class="co"># relative to ASAP</span></span>
<span><span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, do.table<span class="op">=</span><span class="cn">F</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ci<span class="op">=</span><span class="cn">FALSE</span>, relative.to<span class="op">=</span><span class="st">"ASAP"</span>, which<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which2_relative.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">6.5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which2_relative.png" style="width:60.0%"></p>
<p><code>$kobe.yr</code> is used to specify the year in the Kobe
relative status plot <code>$kobe.prob = F</code> will turn off the
probabilities printed in each quadrant for each model (can be crowded
with many models)</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># which = 10 (kobe plot)</span></span>
<span><span class="co"># kobe.yr = 2010 (instead of terminal year, 2018)</span></span>
<span><span class="co"># kobe.prob = F (don't print probabilities)</span></span>
<span><span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, fdir<span class="op">=</span><span class="va">write.dir</span>, do.table<span class="op">=</span><span class="cn">F</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>which<span class="op">=</span><span class="fl">10</span>, kobe.yr<span class="op">=</span><span class="fl">2010</span>, kobe.prob<span class="op">=</span><span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which10_2010.png" style="width:60.0%"></p>
<p>The plots made with <code>ggplot2</code> (all except Kobe) are
returned in a list, <code>$g</code>, so you can modify them later. For
example, to re-make the relative status timeseries plot with different
fill and color scales:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">$</span><span class="va">g</span><span class="op">[[</span><span class="fl">9</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_colour_brewer</a></span><span class="op">(</span>palette<span class="op">=</span><span class="st">"Set1"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette<span class="op">=</span><span class="st">"Set1"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which9_colorchange.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">6.5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which9_colorchange.png" style="width:60.0%"></p>
<p>Note that even if you’re only making one plot using
<code>$which</code>, <code>res$g</code> is still a list of length 10.
For example, to plot SSB, F, and recruitment from 1980-2018 relative to
ASAP without confidence intervals:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, do.table<span class="op">=</span><span class="cn">F</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>years<span class="op">=</span><span class="fl">1980</span><span class="op">:</span><span class="fl">2018</span>, ci<span class="op">=</span><span class="cn">FALSE</span>, relative.to<span class="op">=</span><span class="st">"ASAP"</span>, which<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="fu">RColorBrewer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">brewer.pal</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span>, name <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">g</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_colour_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="va">cols</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which1_relative_colorchange.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which1_relative_colorchange.png" style="width:60.0%"></p>
<p>Any aesthetics that weren’t in the original plot are more
complicated. For example, if we want to make the base model line dashed,
linetype was not in original plot. We can do:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span><span class="op">$</span><span class="va">g</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">mapping</span><span class="op">$</span><span class="va">linetype</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="va">Model</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">g</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">labels</span><span class="op">$</span><span class="va">linetype</span> <span class="op">=</span> <span class="st">"Model"</span></span>
<span><span class="va">ltys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">g</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_colour_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="va">cols</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_linetype_manual</a></span><span class="op">(</span>values<span class="op">=</span><span class="va">ltys</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which1_relative_colorchange_linetype.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which1_relative_colorchange_linetype.png" style="width:60.0%"></p>
<p>Our final example, changing the labels on the selectivity plot
facets</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compare_wham_models.html">compare_wham_models</a></span><span class="op">(</span><span class="va">mods</span>, do.table<span class="op">=</span><span class="cn">F</span>, plot.opts<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>which<span class="op">=</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">index_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/as_labeller.html" class="external-link">as_labeller</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>`Block 4` <span class="op">=</span> <span class="st">"NEFSC - Spring"</span>, `Block 5` <span class="op">=</span> <span class="st">"NEFSC - Fall"</span>,`Block 6` <span class="op">=</span> <span class="st">"DFO"</span>, `Block 7` <span class="op">=</span> <span class="st">"NEFSC - Spring41"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">g</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">Block</span><span class="op">)</span>, ncol<span class="op">=</span><span class="fl">1</span>, strip.position <span class="op">=</span> <span class="st">'right'</span>, labeller <span class="op">=</span> <span class="va">index_names</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">write.dir</span>,<span class="st">"which4_labels.png"</span><span class="op">)</span>, device<span class="op">=</span><span class="st">'png'</span>, width<span class="op">=</span><span class="fl">4.5</span>, height<span class="op">=</span><span class="fl">5.5</span>, units<span class="op">=</span><span class="st">'in'</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/timjmiller/wham/devel/vignettes/ex8_plots/which4_labels.png" style="width:60.0%"></p>
<p>Hopefully that is enough to get you started!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tim Miller, Brian Stock.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
